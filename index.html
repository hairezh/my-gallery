<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Galeria</title>
  <link rel="stylesheet" href="styles.css" />
  <meta name="color-scheme" content="light" />
</head>
<body>
  <header class="topbar">
    <div class="brand" title="Galeria local (salva no seu navegador)">
      <span class="dot"></span>
      <span>Galeria</span>
    </div>

    <div class="actions">
      <button class="btn" id="btnAddMedia" type="button">Adicionar (foto)</button>
      <button class="btn" id="btnAddFolder" type="button">Adicionar pasta</button>
      <button class="btn" id="btnSearch" type="button">Pesquisar</button>
    </div>
  </header>

  <div class="searchbar" id="searchbar" hidden>
    <div class="searchwrap">
      <input id="searchInput" class="search" type="search" placeholder="Pesquisar pastas, nomes, arquivos..." autocomplete="off" />
      <div class="hint">Dica: ESC fecha · Enter abre o primeiro resultado</div>
    </div>
  </div>

  <main class="main">
    <div class="crumbs" id="crumbs"></div>

    <section class="grid" id="grid"></section>

    <section class="empty" id="empty" hidden>
      <div class="emptyCard">
        <div class="emptyTitle">Nada aqui ainda.</div>
        <div class="emptyText">
          Use <b>Adicionar pasta</b> pra organizar ou <b>Adicionar (foto)</b> pra colocar imagens/vídeos.
        </div>
        <div class="emptyText small">
          Tudo fica salvo localmente neste navegador (IndexedDB).
        </div>
      </div>
    </section>
  </main>

  <input id="filePicker" type="file" accept="image/*,video/*" multiple hidden />

  <!-- Modal: Pasta (criar/editar) -->
  <dialog class="modal" id="folderModal">
    <form method="dialog" class="modalCard" id="folderForm">
      <div class="modalTitle" id="folderModalTitle">Nova pasta</div>

      <label class="field">
        <span>Nome</span>
        <input id="folderName" type="text" maxlength="80" placeholder="Ex.: Viagens, Estudos, 3D..." required />
      </label>

      <label class="field">
        <span>Data de criação</span>
        <input id="folderDate" type="date" required />
      </label>

      <div class="modalRow">
        <button class="link" value="cancel" type="button" id="folderCancel">Cancelar</button>
        <button class="btn primary" value="default" type="submit" id="folderSave">Salvar</button>
      </div>
    </form>
  </dialog>

  <!-- Modal: Visualizador -->
  <dialog class="modal" id="viewerModal">
    <div class="viewer">
      <div class="viewerTop">
        <div class="viewerMeta">
          <div class="viewerName" id="viewerName">Arquivo</div>
          <div class="viewerSub" id="viewerSub">—</div>
        </div>

        <div class="viewerControls">
          <button class="link danger" type="button" id="viewerDelete">Excluir</button>
          <button class="link" type="button" id="viewerClose">Fechar</button>
        </div>
      </div>

      <div class="viewerBody" id="viewerBody"></div>

      <div class="viewerBottom">
        <label class="field inline">
          <span>Nome</span>
          <input id="viewerRename" type="text" maxlength="120" />
        </label>

        <label class="field inline">
          <span>Mover para</span>
          <select id="viewerMove"></select>
        </label>

        <button class="btn primary" type="button" id="viewerApply">Aplicar</button>
      </div>
    </div>
  </dialog>

  <div class="toast" id="toast" hidden></div>

  <script src="app.js"></script>
</body>
</html>
