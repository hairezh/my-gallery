<!doctype html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Galeria</title>
  <link rel="stylesheet" href="./style.css" />
</head>
<body>
  <header class="top">
    <div class="brand">
      <div class="title">Galeria</div>
      <div class="subtitle">salvo no navegador (IndexedDB)</div>
    </div>

    <div class="actions">
      <button id="exportBtn" class="btn">Exportar</button>
      <label class="btn ghost">
        Importar
        <input id="importInput" type="file" accept="application/json" hidden />
      </label>
      <button id="clearBtn" class="btn danger">Apagar tudo</button>
    </div>
  </header>

  <section class="bar">
    <input id="searchInput" class="input" placeholder="Buscar por nome..." />
    <select id="folderFilter" class="input">
      <option value="__ALL__">Todas as pastas</option>
    </select>
    <select id="typeFilter" class="input">
      <option value="all">Tudo</option>
      <option value="image">Imagens</option>
      <option value="video">Vídeos</option>
    </select>
    <select id="sortBy" class="input">
      <option value="new">Mais recentes</option>
      <option value="name">Nome (A–Z)</option>
      <option value="size">Tamanho (maior)</option>
    </select>
  </section>

  <section class="upload">
    <input id="folderInput" class="input" placeholder="Pasta para adicionar (ex: Anime, Wallpapers)" />
    <input id="fileInput" type="file" multiple accept="image/*,video/*" hidden />
    <button id="pickBtn" class="btn">Escolher arquivos</button>
    <button id="addBtn" class="btn primary">Adicionar</button>
    <div id="status" class="status"></div>
  </section>

  <section id="dropzone" class="dropzone">
    Arraste e solte arquivos aqui
  </section>

  <main>
    <div class="meta">
      <div id="countLabel" class="muted"></div>
      <div id="quotaLabel" class="muted"></div>
    </div>
    <div id="grid" class="grid"></div>
  </main>

  <!-- Modal compatível (sem <dialog>) -->
  <div id="modal" class="modal hidden" role="dialog" aria-modal="true">
    <div class="modalBackdrop" id="modalBackdrop"></div>
    <div class="modalPanel" role="document">
      <div class="modalTop">
        <div>
          <div id="viewerName" class="viewerName"></div>
          <div id="viewerInfo" class="viewerInfo"></div>
        </div>
        <div class="viewerBtns">
          <button id="renameBtn" class="btn ghost">Renomear</button>
          <button id="moveBtn" class="btn ghost">Mover</button>
          <button id="downloadBtn" class="btn">Baixar</button>
          <button id="deleteBtn" class="btn danger">Excluir</button>
          <button id="closeBtn" class="btn ghost">Fechar</button>
        </div>
      </div>
      <div id="viewerBody" class="viewerBody"></div>
    </div>
  </div>

  <template id="cardTpl">
    <article class="card" tabindex="0">
      <div class="thumb"></div>
      <div class="cardBody">
        <div class="name"></div>
        <div class="sub">
          <span class="folder"></span>
          <span class="size"></span>
        </div>
      </div>
    </article>
  </template>

  <script src="./app.js"></script>
</body>
</html>
